<!DOCTYPE html>
<html lang="hu" layout:decorator="layouts/main">
<head>
	<title>DolgozÃ³</title>
</head>
<body>

	<div layout:fragment="content">
	
		<div class="modal fade" id="kotesProjektModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="kotesProjekLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="kotesProjekLabel">Ãšj kÃ¶tÃ©s</h5>
		        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		      </div>
		      <div class="modal-body">
		      <div class="alert" role="alert" id="restAlertKotes"></div>
		        <form th:id="kotesDolgozoForm" method="POST">
		        	<div class="form-group">
		        		<label th:for="dolgozok">DolgozÃ³:</label>
		        		<select th:name="dolgozok" th:id="dolgozok" required>
		        			<option selected></option>
		        			<option th:each="dolgozo : ${dolgozok}" th:value="${dolgozo.id}" th:text="${dolgozo.teljesnev}"></option>
		        		</select>
		        	</div>
		        	<div class="form-group">
		        		<label th:for="projektek">Projekt:</label>
		        		<select th:name="projektek" th:id="projektek" required>
		        			<option selected></option>
		        		</select>
		        	</div>
		        	<div class="form-group">
		        		<label th:for="oraber">Ã“rabÃ©r</label>
		        		<input th:type="number" th:name="oraber" th:id="oraber" required>
		        	</div>

		        	<input th:type="submit" class="btn btn-primary">

		        </form>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">BezÃ¡rÃ¡s</button>
		      </div>
		    </div>
		  </div>
		</div>
	
		 <div class="modal fade" id="modositasModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="modositasModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="modositasModalLabel" th:text="#{modosit}">Módosítás</h5>
		        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		      </div>
		      <div class="modal-body">
		      <div class="alert" role="alert" id="restAlertModositas"></div>
		        <form th:id="dolgozoModositasForm" th:method="POST">
		        	<div class="mb-3">
					    <label th:for="ModDolgNev" th:text="#{teljesnev}" class="form-label">Teljes név</label>
					    <input th:type="text" class="form-control" th:id="ModDolgNev">
				  	</div>
				  	<div class="mb-3">
					    <label th:for="ModDolgOraber" th:text="#{alaporaber}" class="form-label">Órabér</label>
					    <input th:type="number" class="form-control" th:id="ModDolgOraber">
				  	</div>
				  	<div class="mb-3">
					    <label th:for="ModDolgSzorzo" th:text="#{bszorzo}" class="form-label">Bruttó szorzó</label>
					    <input th:type="number" class="form-control" th:id="ModDolgSzorzo">
				  	</div>
				  	<input type="hidden" th:id="hiddenId">
				  	<input type="submit" class="btn btn-success" th:value="#{modositas}">
		        </form>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" th:text="#{bezaras}" data-bs-dismiss="modal">Bezárás</button>
		      </div>
		    </div>
		  </div>
		</div>
	
		<div class="modal fade" id="dolgozoFeltoltes" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="dolgozoFeltoltesLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
				   <div class="modal-header">
				     <h5 class="modal-title" id="dolgozoFeltoltesLabel">Új dolgozó</h5>
				     <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				   </div>
				   <div class="modal-body">
				   <div class="alert" role="alert" id="restAlertFeltoltes"></div>
				     <form th:id="dolgozoFeltoltesForm" th:method="POST">
				     	<div class="form-group">
				     		<label th:for="DolgNev" th:text="#{teljesnev}">Név</label>
				     		<input th:type="text" th:name="DolgNev" th:id="DolgNev" class="form-control" required>
				     		<div id="dolgNevText" class="form-text"></div>
				     	</div>
				     	<div class="form-group">
				     		<label th:for="DolgEmail" th:text="#{email}">email</label>
				     		<input th:type="email" th:name="DolgEmail" th:id="DolgEmail" class="form-control" required>
				     		<div id="dolgEmailText" class="form-text"></div>
				     	</div>
				     	<div class="form-group">
				     		<label th:for="MasodlagosDolgEmail" th:text="#{email}">email</label>
				     		<input th:type="email" th:name="MasodlagosDolgEmail" th:id="MasodlagosDolgEmail" class="form-control" required>
				     		<div id="MasodlagosDolgEmailText" class="form-text"></div>
				     	</div>
				     	<div class="form-group">
				     		<label th:for="DolgOraber" th:text="#{alaporaber}">órabér</label>
				     		<input th:type="number" th:name="DolgOraber" th:id="DolgOraber" class="form-control" required>
				     		<div id="dolgOrbaerText" class="form-text"></div>
				     	</div>
				     	<div class="form-group">
				     		<label th:for="DolgSzorzo" th:text="#{bszorzo}">szorzó</label>
				     		<input th:type="text" th:name="DolgSzorzo" th:id="DolgSzorzo" class="form-control" required>
				     		<div id="dolgSzorzoText" class="form-text"></div>
				     	</div>
				     	<div class="form-group">
				     		<label th:for="DolgJelszo" th:text="#{jelszo}">jelszó</label>
				     		<input th:type="text" th:name="DolgJelszo" th:id="DolgJelszo" min="8" max="18" class="form-control" required>
				     		<div id="jelszoText" class="form-text"></div>
				     	</div>
				     	<div class="form-group">
				     		<label th:for="DolgJelszoUjra" th:text="#{jelszo2}">jelszó újra</label>
				     		<input th:type="text" th:name="DolgJelszoUjra" th:id="DolgJelszoUjra" min="8" max="18" class="form-control" required>
				     		<div id="jelszoUjraText" class="form-text"></div>
				     	</div>
						<input th:type="submit" class="btn btn-primary">
				     </form>
				   </div>
				   <div class="modal-footer">
				     <button type="button" class="btn btn-secondary" th:text="#{bezaras}" data-bs-dismiss="modal">Close</button>
				   </div>
				</div>
			</div>
		</div>
		
		<div class="modal fade" id="munkaidoModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="munkaidoModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="munkaidoModalLabel">Munkaidõ rögzítése</h5>
		        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		      </div>
		      <div class="modal-body">
			      <div class="alert" role="alert" id="restAlertMunkaido"></div>
		        <form th:id="munkaidoForm" method="POST">
		        	<div class="form-group">
		        		<label th:for="munidoDolgozok">Dolgozó:</label>
		        		<select th:name="munidoDolgozok" th:id="munidoDolgozok" class="form-select" required>
		        			<option selected>Kiválasztás</option>
		        			<option th:each="dolgozo : ${dolgozok}" th:value="${dolgozo.id}" th:text="${dolgozo.teljesnev}"></option>
		        		</select>
		        	</div>
		        	<div class="form-group">
		        		<label th:for="munidoProjektek">Dolgozóhoz kötött projektek:</label>
		        		<select th:name="munidoProjektek" th:id="munidoProjektek" class="form-select">
		        			
		        		</select>
		        	</div>
		        	<div class="form-group">
		        		<label th:for="munidoTipus">Munka típusa</label>
		        		<select th:name="munidoTipus" th:id="munidoTipus" class="form-select">
		        			<option value="1">programozás</option>
		        			<option value="2">tervezés</option>
		        			<option value="3">tesztelés</option>
		        			<option value="4">dokumentáció</option>
		        			<option value="5">támogatás</option>
		        			<option value="6">grafikai munka</option>
		        			<option value="7">tartalom kezelés</option>
		        			<option value="8">egyéb</option>
		        		</select>
		        	</div>
		        	<div class="form-group">
		        		<label th:for="munidoDate"></label>
		        		<input type="date" th:name="munidoDate" th:id="munidoDate" class="form-control" required>
		        	</div>
		        	<div class="row mt-3">
			        		<div class="col">	
			        			<label th:for="munidoOra">Óra:</label>
								<input type="number" th:name="munidoOra" th:id="munidoOra" min="0" max="23" class="form-control" required>
			        		</div>
							<div class="col">
								<label th:for="munidoPerc">Perc:</label>
								<select class="form-select" th:name="munidoPerc" th:id="munidoPerc" required>
									<option value="0">0</option>
									<option value="15">15</option>
									<option value="30">30</option>
									<option value="45">45</option>
								</select>
							</div>
			        	</div>
		        	<div class="form-group">
		        		<label th:for="munidoLeiras">Leírás</label>
		        		<textarea th:id="munidoLeiras" th:name="munidoLeiras" class="form-control" required></textarea>
		        	</div>

		        	<input th:type="submit" class="btn btn-primary">

		        </form>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">BezÃ¡rÃ¡s</button>
		      </div>
		    </div>
		  </div>
		</div>
		
		<div class="container mt-5">
			<div class="row">
				<div class="col-sm-12">
				<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#dolgozoFeltoltes">
				  Új dolgozó feltöltés
				</button>
				<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#kotesProjektModal">
				  Ãšj dolgozÃ³ kÃ¶tÃ©s
				</button>
				<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#munkaidoModal">
					Munkaidõ rögzítése
				</button>
					<table class="table table-striped mt-2 text-center">
						<thead class="bg-dark text-white">
							<th th:text="#{teljesnev}">Teljes név</th>
							<th th:text="#{email}">E-mail cím</th>
							<th th:text="#{alaporaber}">Órabér</th>
							<th th:text="#{bszorzo}">Bruttó szorzó</th>
							<th th:text="#{aktiv}">Aktivitás</th>
							<th th:text="#{modositas}">Módosítás</th>
						</thead>
						<tbody>
							<tr th:each="dolgozo : ${dolgozok}" th:id="${dolgozo.id}">
								<td th:text="${dolgozo.teljesnev}">Név</td>
								<td th:text="${dolgozo.email}">Email</td>
								<td th:text="${dolgozo.alaporaber}">Órabér</td>
								<td th:text="${dolgozo.bruttoszorzo}">Szorzó</td>
								<td>
									<input th:if="${dolgozo.aktiv == 1}" th:value="${dolgozo.id}" th:id="checkie" class="form-check-input" th:type="checkbox" checked>
									<input th:if="${dolgozo.aktiv == 0}" th:value="${dolgozo.id}" th:id="checkie" class="form-check-input" th:type="checkbox">
									<p th:if="${dolgozo.aktiv == 3}">Aktiválás folyamatban</p>
								</td>
								<td><button th:if="${dolgozo.aktiv == 1 || dolgozo.aktiv == 0}" class="btn btn-success modosit" th:text="#{modositas}" th:id="${dolgozo.id}" data-bs-toggle="modal" data-bs-target="#modositasModal"></button><p th:if="${dolgozo.aktiv == 3}">Aktiválás folyamatban</p></td>
								
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="row mt-5 text-center">
				<div class="col-sm-12">
					<table class="table table-striped text-center">
						<thead class="bg-dark text-white">
							<th th:text="#{projekt}">Projekt</th>
							<th th:text="#{dolgozo}">DolgozÃ³</th>
							<th th:text="#{oraber}">Ã“rabÃ©r</th>
							<th th:text="#{torles}">Törlés</th>
						</thead>
						<tbody>
							<tr th:each="kotes : ${dolgkotes}" th:id="${kotes.id}">
								<td th:text="${kotes.projekt.name}"></td>
								<td th:text="${kotes.user.teljesnev}"></td>
								<td th:text="${kotes.oraber}"></td>
								<td><button th:text="#{torles}" th:id="${kotes.id}" class="btn btn-danger kotesTorles">Törlés</button></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>

	</div>
	
	<script layout:fragment="script" th:src="@{/js/dolgozo.js}"></script>
	
</body>
</html>